var Logger = require('./lib/logger.js');
var logger = Logger.createLogger('d8e14421399a44a9a35dfc49c7f5f0aa', {
    hostname:'sequence'
    , app: 'sequence'
    , index_meta: true
});
// var x = 5;
// x = x - 3;
// process.on('SIGINT', function() {
//     console.log('what');
//     console.log(x);
// });
var date = new Date();
date = date.toISOString();
const logme = (callback) => {
    for (var i = 0; i < 10; i++) {
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
        logger.log('Hello ' + date, { meta: { sequence: 1 }, env:'prod'});
    }
    return callback && callback();
};


var connectToBrokerInterval = () => {
    logme(() => {
        setTimeout(connectToBrokerInterval, 1000);
    });
};

connectToBrokerInterval();

// logger.log('88.76.129.15 - [88.76.129.15] - - [14/Jun/2017:17:13:39 +0000] \"GET /static/images/maps/marker-shadow.png HTTP/2.0\" 200 1649 \"https://offmaps.com/de/karten/europa/norwegen/offline-karte-sognefjord\" \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 OPR/45.0.2552.888\" 46 0.001 [offmaps-production-website-service-80] 172.20.128.10:80 1649 0.001 200');

// var logger2 = Logger.createLogger('d8e14421399a44a9a35dfc49c7f5f0aa', {
//     hostname:'awesometester'
//     , app: 'testapp'
//     , index_meta: true
//     , cleanUpSIGTERM: true
//     , cleanUpSIGINT: true
// });

// logger.log('bro ya feel me111111');

// logger2.log('yooo111111');

// process.on('SIGTERM', function() {
//     logger.log('bro ya feel me222222');

//     logger2.log('yooo222222');
// });

